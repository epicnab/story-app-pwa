let t=null,n=!1;function a(){window.addEventListener("beforeinstallprompt",e=>{t=e,n=!0,window.dispatchEvent(new CustomEvent("pwa-installable",{detail:{installable:!0}}))}),window.addEventListener("appinstalled",e=>{console.log("PWA was installed successfully"),t=null,n=!1,window.dispatchEvent(new CustomEvent("pwa-installed"))})}function l(){return n}async function s(){if(!t)return console.warn("Install prompt not available"),!1;t.prompt();const{outcome:e}=await t.userChoice;return t=null,n=!1,window.dispatchEvent(new CustomEvent("pwa-install-choice",{detail:{outcome:e}})),e==="accepted"}function i(){return window.matchMedia("(display-mode: standalone)").matches?!1:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?navigator.standalone===!1:n}export{i as canInstallPWA,a as initPWAInstall,l as isPWAInstallable,s as showInstallPrompt};
