let e=null,n=!1;function a(){window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),e=t,n=!0,console.log("PWA install prompt is available"),window.dispatchEvent(new CustomEvent("pwa-installable",{detail:{installable:!0}}))}),window.addEventListener("appinstalled",t=>{console.log("PWA was installed successfully"),e=null,n=!1,window.dispatchEvent(new CustomEvent("pwa-installed"))})}function l(){return n}async function s(){if(!e)return console.warn("Install prompt not available"),!1;e.prompt();const{outcome:t}=await e.userChoice;return e=null,n=!1,window.dispatchEvent(new CustomEvent("pwa-install-choice",{detail:{outcome:t}})),t==="accepted"}function i(){return window.matchMedia("(display-mode: standalone)").matches?!1:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?navigator.standalone===!1:n}export{i as canInstallPWA,a as initPWAInstall,l as isPWAInstallable,s as showInstallPrompt};
